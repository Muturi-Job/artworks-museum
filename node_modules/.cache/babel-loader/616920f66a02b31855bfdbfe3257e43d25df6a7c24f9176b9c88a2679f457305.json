{"ast":null,"code":"import _toConsumableArray from\"/home/muturi/Development/react-practice/artworks-museum/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"/home/muturi/Development/react-practice/artworks-museum/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useState,useEffect}from\"react\";import ImageCard from\"./ImageCard\";import Search from\"./Search\";import\"./Search.css\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function SearchArtWorks(){var _useState=useState(\"\"),_useState2=_slicedToArray(_useState,2),searchTerm=_useState2[0],setSearchTerm=_useState2[1];var _useState3=useState([]),_useState4=_slicedToArray(_useState3,2),IDs=_useState4[0],setIDs=_useState4[1];var _useState5=useState([]),_useState6=_slicedToArray(_useState5,2),items=_useState6[0],setItems=_useState6[1];useEffect(function(){fetch(\"https://api.artic.edu/api/v1/artworks/search?q=painting&limit=100\").then(function(data){return data.json();}).then(function(artworks){return setIDs(artworks.data.map(function(item){return item.id;}));}).catch(function(err){return console.log(err);});},[]);useEffect(function(){IDs.forEach(function(id){fetch(\"https://api.artic.edu/api/v1/artworks/\".concat(id)).then(function(data){return data.json();}).then(function(item){return setItems(function(prevItem){return[].concat(_toConsumableArray(prevItem),[item.data]);});}).catch(function(err){return console.log(err);});});},[IDs]);return/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(Search,{searchTerm:searchTerm,setSearchTerm:setSearchTerm}),/*#__PURE__*/_jsx(\"div\",{className:\"parent\",children:items.filter(function(item){return item.title.toLowerCase().includes(searchTerm.toLowerCase());}).map(function(item,i){return/*#__PURE__*/_jsx(ImageCard,{item:item},i);})})]});}export default SearchArtWorks;","map":{"version":3,"names":["React","useState","useEffect","ImageCard","Search","jsx","_jsx","jsxs","_jsxs","SearchArtWorks","_useState","_useState2","_slicedToArray","searchTerm","setSearchTerm","_useState3","_useState4","IDs","setIDs","_useState5","_useState6","items","setItems","fetch","then","data","json","artworks","map","item","id","catch","err","console","log","forEach","concat","prevItem","_toConsumableArray","className","children","filter","title","toLowerCase","includes","i"],"sources":["/home/muturi/Development/react-practice/artworks-museum/src/components/SearchArtwork.js"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport ImageCard from \"./ImageCard\";\nimport Search from \"./Search\";\nimport \"./Search.css\";\n\nfunction SearchArtWorks() {\n  const [searchTerm, setSearchTerm] = useState(\"\");\n  const [IDs, setIDs] = useState([]);\n  const [items, setItems] = useState([]);\n  \n\n  useEffect(() => {\n    fetch(\"https://api.artic.edu/api/v1/artworks/search?q=painting&limit=100\")\n      .then((data) => data.json())\n      .then((artworks) =>\n        setIDs(artworks.data.map((item) => item.id))\n      )\n      .catch((err) => console.log(err));\n  }, []);\n\n  useEffect(() => {\n    IDs.forEach((id) => {\n      fetch(`https://api.artic.edu/api/v1/artworks/${id}`)\n        .then((data) => data.json())\n        .then((item) =>\n          setItems((prevItem) => [...prevItem, item.data])\n        )\n        .catch((err) => console.log(err));\n    });\n  }, [IDs]);\n\n  return (\n    <div className=\"container\">\n      <Search searchTerm={searchTerm} setSearchTerm={setSearchTerm} />\n      <div className=\"parent\">\n        {items\n          .filter((item) =>\n            item.title.toLowerCase().includes(searchTerm.toLowerCase())\n          )\n          .map((item, i) => (\n            <ImageCard\n              key={i}\n              item={item}\n           />\n          ))}\n      </div>\n     \n    </div>\n  );\n}\n\nexport default SearchArtWorks;\n"],"mappings":"kSAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAClD,MAAO,CAAAC,SAAS,KAAM,aAAa,CACnC,MAAO,CAAAC,MAAM,KAAM,UAAU,CAC7B,MAAO,cAAc,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEtB,QAAS,CAAAC,cAAcA,CAAA,CAAG,CACxB,IAAAC,SAAA,CAAoCT,QAAQ,CAAC,EAAE,CAAC,CAAAU,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAAzCG,UAAU,CAAAF,UAAA,IAAEG,aAAa,CAAAH,UAAA,IAChC,IAAAI,UAAA,CAAsBd,QAAQ,CAAC,EAAE,CAAC,CAAAe,UAAA,CAAAJ,cAAA,CAAAG,UAAA,IAA3BE,GAAG,CAAAD,UAAA,IAAEE,MAAM,CAAAF,UAAA,IAClB,IAAAG,UAAA,CAA0BlB,QAAQ,CAAC,EAAE,CAAC,CAAAmB,UAAA,CAAAR,cAAA,CAAAO,UAAA,IAA/BE,KAAK,CAAAD,UAAA,IAAEE,QAAQ,CAAAF,UAAA,IAGtBlB,SAAS,CAAC,UAAM,CACdqB,KAAK,CAAC,mEAAmE,CAAC,CACvEC,IAAI,CAAC,SAACC,IAAI,QAAK,CAAAA,IAAI,CAACC,IAAI,CAAC,CAAC,GAAC,CAC3BF,IAAI,CAAC,SAACG,QAAQ,QACb,CAAAT,MAAM,CAACS,QAAQ,CAACF,IAAI,CAACG,GAAG,CAAC,SAACC,IAAI,QAAK,CAAAA,IAAI,CAACC,EAAE,GAAC,CAAC,EAC9C,CAAC,CACAC,KAAK,CAAC,SAACC,GAAG,QAAK,CAAAC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,GAAC,CACrC,CAAC,CAAE,EAAE,CAAC,CAEN9B,SAAS,CAAC,UAAM,CACde,GAAG,CAACkB,OAAO,CAAC,SAACL,EAAE,CAAK,CAClBP,KAAK,0CAAAa,MAAA,CAA0CN,EAAE,CAAE,CAAC,CACjDN,IAAI,CAAC,SAACC,IAAI,QAAK,CAAAA,IAAI,CAACC,IAAI,CAAC,CAAC,GAAC,CAC3BF,IAAI,CAAC,SAACK,IAAI,QACT,CAAAP,QAAQ,CAAC,SAACe,QAAQ,WAAAD,MAAA,CAAAE,kBAAA,CAASD,QAAQ,GAAER,IAAI,CAACJ,IAAI,IAAC,CAAC,EAClD,CAAC,CACAM,KAAK,CAAC,SAACC,GAAG,QAAK,CAAAC,OAAO,CAACC,GAAG,CAACF,GAAG,CAAC,GAAC,CACrC,CAAC,CAAC,CACJ,CAAC,CAAE,CAACf,GAAG,CAAC,CAAC,CAET,mBACET,KAAA,QAAK+B,SAAS,CAAC,WAAW,CAAAC,QAAA,eACxBlC,IAAA,CAACF,MAAM,EAACS,UAAU,CAAEA,UAAW,CAACC,aAAa,CAAEA,aAAc,CAAE,CAAC,cAChER,IAAA,QAAKiC,SAAS,CAAC,QAAQ,CAAAC,QAAA,CACpBnB,KAAK,CACHoB,MAAM,CAAC,SAACZ,IAAI,QACX,CAAAA,IAAI,CAACa,KAAK,CAACC,WAAW,CAAC,CAAC,CAACC,QAAQ,CAAC/B,UAAU,CAAC8B,WAAW,CAAC,CAAC,CAAC,EAC7D,CAAC,CACAf,GAAG,CAAC,SAACC,IAAI,CAAEgB,CAAC,qBACXvC,IAAA,CAACH,SAAS,EAER0B,IAAI,CAAEA,IAAK,EADNgB,CAEP,CAAC,EACF,CAAC,CACD,CAAC,EAEH,CAAC,CAEV,CAEA,cAAe,CAAApC,cAAc"},"metadata":{},"sourceType":"module","externalDependencies":[]}